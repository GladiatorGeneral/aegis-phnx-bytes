(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:d,...c},h)=>(0,t.createElement)("svg",{ref:h,...s,width:r,height:r,stroke:e,strokeWidth:l?24*Number(i)/Number(r):i,className:a("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...n},o)=>(0,t.createElement)(i,{ref:o,iconNode:s,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=r(e),l};e.s(["default",()=>l],75254)},91221,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let s=(0,a.default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),i=(0,a.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),l=(0,a.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),n=(0,a.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),o=(0,a.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d=["I have an OpenAPI spec — generate types + a client wrapper.","Create a user management API client (CRUD) with TypeScript.","Generate a client for GET /users and GET /users/{id}.","Convert this REST shape into Zod schemas."];function c(e){let t,r=[],a=/```(\w+)?\n([\s\S]*?)```/g;for(;t=a.exec(e);)r.push({lang:t[1],code:t[2].trimEnd()});return r}function h(){let[e,a]=(0,r.useState)([{id:"welcome",role:"assistant",content:"Tell me what you're building (or paste an OpenAPI snippet). I'll generate types + a minimal client + optional hooks."}]),[h,x]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[p,w]=(0,r.useState)(null),b=(0,r.useRef)(null),[f,y]=(0,r.useState)(null),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{g.current?.scrollIntoView({behavior:"smooth"})},[e.length,u]);let v=(0,r.useMemo)(()=>p||(u?"Generating…":"Describe your API in plain English."),[p,u]),j=async e=>{let t=c(e);t.length&&(await navigator.clipboard.writeText(t[0].code),y("Copied"),window.setTimeout(()=>y(null),1200))},N=async()=>{if(u)return;let t=h.trim();if(!t)return;w(null);let r={id:`${Date.now()}-u`,role:"user",content:t},s=`${Date.now()}-a`,i={id:s,role:"assistant",content:""};a(e=>[...e,r,i]),x(""),m(!0);let l=new AbortController;b.current=l;try{let t=await fetch("/api/assistant",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({messages:[...e,r].map(e=>({role:e.role,content:e.content}))}),signal:l.signal});if(!t.ok||!t.body){let e=await t.text().catch(()=>"Request failed.");throw Error(e||"Request failed.")}let i=t.body.getReader(),n=new TextDecoder;for(;;){let{value:e,done:t}=await i.read();if(t)break;let r=n.decode(e,{stream:!0});a(e=>e.map(e=>e.id===s?{...e,content:e.content+r}:e))}}catch(e){e?.name==="AbortError"?w("Stopped."):w(e instanceof Error?e.message:"Request failed.")}finally{m(!1),b.current=null}};return(0,t.jsx)("div",{className:"mx-auto w-full max-w-6xl px-4 py-10",children:(0,t.jsxs)("section",{className:"glass-card border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 md:p-6 border-b border-white/10 flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg border border-white/10 bg-white/5",children:(0,t.jsx)(s,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"phnxbyte AI Assistant"}),(0,t.jsx)("p",{className:"text-sm text-white/50 mt-1",children:v})]})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{b.current?.abort(),b.current=null,w(null),m(!1),a([e[0]].filter(Boolean))},className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-colors text-white/80",title:"Clear chat",children:[(0,t.jsx)(l,{className:"w-4 h-4"}),"New Session"]})]}),(0,t.jsxs)("div",{className:"p-4 md:p-6",children:[(0,t.jsxs)("div",{className:"min-h-95 max-h-[55vh] overflow-y-auto pr-1 space-y-4",children:[e.map(e=>(0,t.jsxs)("div",{className:"user"===e.role?"flex gap-3 justify-end":"flex gap-3",children:[(0,t.jsx)("div",{className:"user"===e.role?"hidden md:flex h-9 w-9 items-center justify-center rounded-xl bg-white text-black":"hidden md:flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 border border-white/10",children:"user"===e.role?(0,t.jsx)(o,{className:"w-4 h-4"}):(0,t.jsx)(s,{className:"w-4 h-4 text-white/80"})}),(0,t.jsxs)("div",{className:"user"===e.role?"max-w-[90%] md:max-w-[78%] rounded-2xl bg-white text-black px-4 py-3 whitespace-pre-wrap":"max-w-[90%] md:max-w-[78%] rounded-2xl bg-white/5 border border-white/10 px-4 py-3 text-white/90",children:[(0,t.jsx)("div",{className:"text-xs opacity-70 mb-1",children:"user"===e.role?"You":"Assistant"}),(0,t.jsx)("div",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content}),"assistant"===e.role&&c(e.content).length>0&&(0,t.jsx)("div",{className:"mt-3 flex items-center justify-end gap-2",children:(0,t.jsxs)("button",{type:"button",onClick:()=>void j(e.content),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-colors text-white/80 text-sm",children:[(0,t.jsx)(i,{className:"w-4 h-4"}),f??"Copy code"]})})]})]},e.id)),u&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"hidden md:flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 border border-white/10",children:(0,t.jsx)(s,{className:"w-4 h-4 text-white/80"})}),(0,t.jsx)("div",{className:"rounded-2xl bg-white/5 border border-white/10 px-4 py-3 text-white/70",children:(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-white/60 animate-bounce"}),(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"300ms"}})]})})]}),(0,t.jsx)("div",{ref:g})]}),(0,t.jsxs)("div",{className:"mt-5",children:[(0,t.jsx)("div",{className:"text-xs text-white/50 mb-2",children:"Try a prompt:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:d.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>x(e),className:"px-3 py-1.5 text-xs rounded-full border border-white/10 bg-white/5 hover:bg-white/10 transition-colors text-white/70",children:e},e))}),(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),N()},className:"rounded-2xl border border-white/10 bg-black/20 p-2",children:(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsx)("textarea",{value:h,onChange:e=>x(e.target.value),placeholder:"Describe your API or paste OpenAPI…",className:"flex-1 resize-none bg-transparent border-none outline-none text-white placeholder:text-white/40 p-3 max-h-40",rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())}}),(0,t.jsx)("button",{type:"submit",disabled:u||0===h.trim().length,className:"px-5 py-3 rounded-xl bg-white text-black font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50",title:"Send",children:(0,t.jsx)(n,{className:"w-5 h-5"})})]})})]})]})]})})}e.s(["default",()=>h],91221)}]);